##### 2018-10-19 17:38:32 \n ordering-nodes: []\n org0: []\n org1: []\n org2: []\n org3: []\n org4: []\n org5: []
##### 2018-10-19 17:38:37 Start CA server
2018/10/19 17:38:37 [INFO] Configuration file location: /home/datlv/fabric-ca/fabric-ca-server-config.yaml
2018/10/19 17:38:37 [INFO] Starting server in home directory: /home/datlv/fabric-ca
2018/10/19 17:38:37 [INFO] Server Version: 1.2.0
2018/10/19 17:38:37 [INFO] Server Levels: &{Identity:1 Affiliation:1 Certificate:1 Credential:1 RAInfo:1 Nonce:1}
2018/10/19 17:38:37 [DEBUG] Making server filenames absolute
2018/10/19 17:38:37 [DEBUG] Initializing default CA in directory /home/datlv/fabric-ca
2018/10/19 17:38:37 [DEBUG] Init CA with home /home/datlv/fabric-ca and config {Version:1.2.0 Cfg:{Identities:{AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name:rca.ordering-nodes.deevo.io Keyfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.key Certfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem Chainfile:ca-chain.pem} Signing:0xc4204c8320 CSR:{CN:rca.ordering-nodes.deevo.io Names:[{C:US ST:California L: O: OU:COP SerialNumber:}] Hosts:[rca.ordering-nodes.deevo.io] KeyRequest:<nil> CA:0xc4204b12c0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.IntermediateCA:1 hf.GenCRL:1 hf.Registrar.Attributes:* hf.AffiliationMgr:1 hf.Registrar.Roles:* hf.Registrar.DelegateRoles:* hf.Revoker:1]  }]} Affiliations:map[org0:[] org4:[] org5:[] org3:[] org2:[] org1:[] ordering-nodes:[]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc4204d2ac0 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile: IssuerSecretKeyfile: RevocationPublicKeyfile: RevocationPrivateKeyfile: RHPoolSize:0 NonceExpiration: NonceSweepInterval:}}
2018/10/19 17:38:37 [DEBUG] CA Home Directory: /home/datlv/fabric-ca
2018/10/19 17:38:37 [DEBUG] Checking configuration file version '1.2.0' against server version: '1.2.0'
2018/10/19 17:38:37 [DEBUG] Initializing BCCSP: &{ProviderName:SW SwOpts:0xc4202cebd0 PluginOpts:<nil>}
2018/10/19 17:38:37 [DEBUG] Initializing BCCSP with software options &{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:0xc4204d8170 DummyKeystore:<nil>}
2018/10/19 17:38:37 [DEBUG] Initialize key material
2018/10/19 17:38:37 [DEBUG] Making CA filenames absolute
2018/10/19 17:38:37 [WARNING] &{69 The specified CA certificate file /etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem does not exist}
2018/10/19 17:38:37 [DEBUG] Root CA certificate request: {CN:rca.ordering-nodes.deevo.io Names:[{C:US ST:California L: O: OU:COP SerialNumber:}] Hosts:[rca.ordering-nodes.deevo.io] KeyRequest:0xc4204d3420 CA:0xc4204b12c0 SerialNumber:}
2018/10/19 17:38:37 [INFO] generating key: &{A:ecdsa S:256}
2018/10/19 17:38:37 [DEBUG] generate key from request: algo=ecdsa, size=256
2018/10/19 17:38:37 [INFO] encoded CSR
2018/10/19 17:38:37 [DEBUG] validating configuration
2018/10/19 17:38:37 [DEBUG] validate local profile
2018/10/19 17:38:37 [DEBUG] profile is valid
2018/10/19 17:38:37 [INFO] signed certificate with serial number 262308239736398163892938265786101420631734945971
2018/10/19 17:38:37 [INFO] The CA key and certificate were generated for CA rca.ordering-nodes.deevo.io
2018/10/19 17:38:37 [INFO] The key was stored by BCCSP provider 'SW'
2018/10/19 17:38:37 [INFO] The certificate is at: /etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem
2018/10/19 17:38:37 [DEBUG] Initializing DB
2018/10/19 17:38:37 [DEBUG] Initializing 'sqlite3' database at '/home/datlv/fabric-ca/fabric-ca-server.db'
2018/10/19 17:38:37 [DEBUG] Using sqlite database, connect to database in home (/home/datlv/fabric-ca/fabric-ca-server.db) directory
2018/10/19 17:38:37 [DEBUG] Creating SQLite database (/home/datlv/fabric-ca/fabric-ca-server.db) if it does not exist...
2018/10/19 17:38:37 [DEBUG] Creating users table if it does not exist
2018/10/19 17:38:37 [DEBUG] Creating affiliations table if it does not exist
2018/10/19 17:38:37 [DEBUG] Creating certificates table if it does not exist
2018/10/19 17:38:37 [DEBUG] Creating credentials table if it does not exist
2018/10/19 17:38:37 [DEBUG] Creating revocation_authority_info table if it does not exist
2018/10/19 17:38:37 [DEBUG] Creating nonces table if it does not exist
2018/10/19 17:38:37 [DEBUG] Creating properties table if it does not exist
2018/10/19 17:38:37 [DEBUG] Successfully opened sqlite3 DB
2018/10/19 17:38:37 [DEBUG] Checking database schema...
2018/10/19 17:38:37 [DEBUG] Update SQLite schema, if using outdated schema
2018/10/19 17:38:37 [DEBUG] Initializing identity registry
2018/10/19 17:38:37 [DEBUG] Initialized DB identity registry
2018/10/19 17:38:37 [DEBUG] DB: Get properties [identity.level affiliation.level certificate.level]
2018/10/19 17:38:37 [DEBUG] Checking database levels 'map[affiliation.level:1 certificate.level:1 identity.level:1]' against server levels '&{Identity:1 Affiliation:1 Certificate:1 Credential:1 RAInfo:1 Nonce:1}'
2018/10/19 17:38:37 [DEBUG] Loading identity table
2018/10/19 17:38:37 [DEBUG] Loading identity 'rca-ordering-nodes-admin'
2018/10/19 17:38:37 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:38:37 [DEBUG] Identity 'rca-ordering-nodes-admin' already registered, loaded identity
2018/10/19 17:38:37 [DEBUG] Successfully loaded identity table
2018/10/19 17:38:37 [DEBUG] Loading affiliations table
2018/10/19 17:38:37 [DEBUG] DB: Add affiliation org0
2018/10/19 17:38:37 [DEBUG] Affiliation 'org0' already exists
2018/10/19 17:38:37 [DEBUG] DB: Add affiliation org4
2018/10/19 17:38:37 [DEBUG] Affiliation 'org4' already exists
2018/10/19 17:38:37 [DEBUG] DB: Add affiliation org5
2018/10/19 17:38:37 [DEBUG] Affiliation 'org5' already exists
2018/10/19 17:38:37 [DEBUG] DB: Add affiliation org3
2018/10/19 17:38:37 [DEBUG] Affiliation 'org3' already exists
2018/10/19 17:38:37 [DEBUG] DB: Add affiliation org2
2018/10/19 17:38:37 [DEBUG] Affiliation 'org2' already exists
2018/10/19 17:38:37 [DEBUG] DB: Add affiliation org1
2018/10/19 17:38:37 [DEBUG] Affiliation 'org1' already exists
2018/10/19 17:38:37 [DEBUG] DB: Add affiliation ordering-nodes
2018/10/19 17:38:37 [DEBUG] Affiliation 'ordering-nodes' already exists
2018/10/19 17:38:37 [DEBUG] Successfully loaded affiliations table
2018/10/19 17:38:37 [DEBUG] Checking and performing migration, if needed
2018/10/19 17:38:37 [DEBUG] Updating database level to &{Identity:1 Affiliation:1 Certificate:1 Credential:1 RAInfo:1 Nonce:1}
2018/10/19 17:38:38 [INFO] Initialized sqlite3 database at /home/datlv/fabric-ca/fabric-ca-server.db
2018/10/19 17:38:38 [DEBUG] Initializing enrollment signer
2018/10/19 17:38:38 [DEBUG] validating configuration
2018/10/19 17:38:38 [DEBUG] validate local profile
2018/10/19 17:38:38 [DEBUG] profile is valid
2018/10/19 17:38:38 [DEBUG] validate local profile
2018/10/19 17:38:38 [DEBUG] profile is valid
2018/10/19 17:38:38 [DEBUG] validate local profile
2018/10/19 17:38:38 [DEBUG] profile is valid
2018/10/19 17:38:38 [DEBUG] CA initialization successful
2018/10/19 17:38:38 [INFO] Home directory for default CA: /home/datlv/fabric-ca
2018/10/19 17:38:38 [DEBUG] 1 CA instance(s) running on server
2018/10/19 17:38:38 [DEBUG] TLS is enabled
2018/10/19 17:38:38 [DEBUG] TLS Certificate: /etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem, TLS Key: /etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.key
2018/10/19 17:38:38 [DEBUG] Client authentication type requested: noclientcert
2018/10/19 17:38:38 [INFO] Listening on https://0.0.0.0:7054
2018/10/19 17:39:04 [DEBUG] Received request for /cainfo
2018/10/19 17:39:04 [INFO] 127.0.0.1:45716 POST /cainfo 200 0 "OK"
2018/10/19 17:39:04 [DEBUG] Received request for /enroll
2018/10/19 17:39:04 [DEBUG] ca.Config: &{Version:1.2.0 Cfg:{Identities:{AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name:rca.ordering-nodes.deevo.io Keyfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.key Certfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem Chainfile:/home/datlv/fabric-ca/ca-chain.pem} Signing:0xc4204c8320 CSR:{CN:rca.ordering-nodes.deevo.io Names:[{C:US ST:California L: O: OU:COP SerialNumber:}] Hosts:[rca.ordering-nodes.deevo.io] KeyRequest:0xc4204d3400 CA:0xc4204b12c0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.Registrar.Attributes:* hf.AffiliationMgr:1 hf.Registrar.Roles:* hf.Registrar.DelegateRoles:* hf.Revoker:1 hf.IntermediateCA:1 hf.GenCRL:1]  }]} Affiliations:map[org5:[] org3:[] org2:[] org1:[] ordering-nodes:[] org0:[] org4:[]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:/home/datlv/fabric-ca/fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc4204d2ac0 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile:/home/datlv/fabric-ca/IssuerPublicKey IssuerSecretKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerSecretKey RevocationPublicKeyfile:/home/datlv/fabric-ca/IssuerRevocationPublicKey RevocationPrivateKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerRevocationPrivateKey RHPoolSize:1000 NonceExpiration:15s NonceSweepInterval:15m}}
2018/10/19 17:39:04 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:39:04 [DEBUG] DB: Login user rca-ordering-nodes-admin with max enrollments of -1 and state of 0
2018/10/19 17:39:04 [DEBUG] DB: identity rca-ordering-nodes-admin successfully logged in
2018/10/19 17:39:04 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:39:04 [DEBUG] Processing sign request: id=rca-ordering-nodes-admin, CommonName=rca-ordering-nodes-admin, Subject=<nil>
2018/10/19 17:39:04 [DEBUG] Request is not for a CA signing certificate
2018/10/19 17:39:04 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2018/10/19 17:39:04 [DEBUG] Finished processing sign request
2018/10/19 17:39:04 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:39:04 [INFO] signed certificate with serial number 367783683677189401841074464164565584770215163734
2018/10/19 17:39:04 [DEBUG] DB: Insert Certificate
2018/10/19 17:39:04 [DEBUG] Saved serial number as hex 406bfda237c636752bf39f5d836bedfbc71bb756
2018/10/19 17:39:04 [DEBUG] saved certificate with serial number 367783683677189401841074464164565584770215163734
2018/10/19 17:39:04 [DEBUG] Successfully incremented state for identity rca-ordering-nodes-admin to 1
2018/10/19 17:39:04 [INFO] 127.0.0.1:45718 POST /enroll 201 0 "OK"
2018/10/19 17:39:04 [DEBUG] Received request for /cainfo
2018/10/19 17:39:04 [INFO] 127.0.0.1:45720 POST /cainfo 200 0 "OK"
##### 2018-10-19 17:39:04 Registering admin identity with ordering-nodes-admin:ordering-nodes-adminpw
2018/10/19 17:39:04 [DEBUG] Received request for /register
2018/10/19 17:39:04 [DEBUG] Checking for revocation/expiration of certificate owned by 'rca-ordering-nodes-admin'
2018/10/19 17:39:04 [DEBUG] DB: Get certificate by serial (406bfda237c636752bf39f5d836bedfbc71bb756) and aki (a3a696bf5ab34514f572144670b887ef5766ee1e)
2018/10/19 17:39:04 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:39:04 [DEBUG] Successful token authentication of 'rca-ordering-nodes-admin'
2018/10/19 17:39:04 [DEBUG] Received registration request from rca-ordering-nodes-admin: { Name:ordering-nodes-admin Type:client Secret:**** MaxEnrollments:0 Affiliation:ordering-nodes Attributes:[{admin true true}] CAName:  }
2018/10/19 17:39:04 [DEBUG] canRegister - Check to see if user 'rca-ordering-nodes-admin' can register
2018/10/19 17:39:04 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' can act on type 'client'
2018/10/19 17:39:04 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' is a registrar
2018/10/19 17:39:04 [DEBUG] Validating affiliation: ordering-nodes
2018/10/19 17:39:04 [DEBUG] Checking to see if affiliation 'ordering-nodes' contains caller's affiliation ''
2018/10/19 17:39:04 [DEBUG] Caller has root affiliation
2018/10/19 17:39:04 [DEBUG] DB: Get affiliation ordering-nodes
2018/10/19 17:39:04 [DEBUG] Checking to see if registrar can register the requested attributes: [{Name:admin Value:true ECert:true}]
2018/10/19 17:39:04 [DEBUG] Validating that registrar with the following values for hf.Registrar.Attributes '*' is authorized to register the requested attribute '&{Name:admin Value:true ECert:true}'
2018/10/19 17:39:04 [DEBUG] Checking if registrar can register attribute: admin
2018/10/19 17:39:04 [DEBUG] Performing authorization check...
2018/10/19 17:39:04 [DEBUG] Registering user id: ordering-nodes-admin
2018/10/19 17:39:04 [DEBUG] Max enrollment value verification - User specified max enrollment: 0, CA max enrollment: -1
2018/10/19 17:39:04 [DEBUG] DB: Getting identity ordering-nodes-admin
2018/10/19 17:39:04 [DEBUG] DB: Add identity ordering-nodes-admin
2018/10/19 17:39:05 [DEBUG] Successfully added identity ordering-nodes-admin to the database
2018/10/19 17:39:05 [INFO] 127.0.0.1:45722 POST /register 201 0 "OK"
##### 2018-10-19 17:39:05 Enroll to get peer's TLS cert
2018/10/19 17:39:05 [DEBUG] Received request for /enroll
2018/10/19 17:39:05 [DEBUG] ca.Config: &{Version:1.2.0 Cfg:{Identities:{AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name:rca.ordering-nodes.deevo.io Keyfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.key Certfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem Chainfile:/home/datlv/fabric-ca/ca-chain.pem} Signing:0xc4204c8320 CSR:{CN:rca.ordering-nodes.deevo.io Names:[{C:US ST:California L: O: OU:COP SerialNumber:}] Hosts:[rca.ordering-nodes.deevo.io] KeyRequest:0xc4204d3400 CA:0xc4204b12c0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.IntermediateCA:1 hf.GenCRL:1 hf.Registrar.Attributes:* hf.AffiliationMgr:1 hf.Registrar.Roles:* hf.Registrar.DelegateRoles:* hf.Revoker:1]  }]} Affiliations:map[org0:[] org4:[] org5:[] org3:[] org2:[] org1:[] ordering-nodes:[]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:/home/datlv/fabric-ca/fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc4204d2ac0 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile:/home/datlv/fabric-ca/IssuerPublicKey IssuerSecretKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerSecretKey RevocationPublicKeyfile:/home/datlv/fabric-ca/IssuerRevocationPublicKey RevocationPrivateKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerRevocationPrivateKey RHPoolSize:1000 NonceExpiration:15s NonceSweepInterval:15m}}
2018/10/19 17:39:05 [DEBUG] DB: Getting identity ordering-nodes-admin
2018/10/19 17:39:05 [DEBUG] DB: Login user ordering-nodes-admin with max enrollments of -1 and state of 0
2018/10/19 17:39:05 [DEBUG] DB: identity ordering-nodes-admin successfully logged in
2018/10/19 17:39:05 [DEBUG] DB: Getting identity ordering-nodes-admin
2018/10/19 17:39:05 [DEBUG] Processing sign request: id=ordering-nodes-admin, CommonName=ordering-nodes-admin, Subject=<nil>
2018/10/19 17:39:05 [DEBUG] Request is not for a CA signing certificate
2018/10/19 17:39:05 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2018/10/19 17:39:05 [DEBUG] Finished processing sign request
2018/10/19 17:39:05 [DEBUG] DB: Getting identity ordering-nodes-admin
2018/10/19 17:39:05 [DEBUG] Attribute extension being added to certificate is: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2261646d696e223a2274727565222c2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226f72646572696e672d6e6f6465732d61646d696e222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:39:05 [DEBUG] Adding attribute extension to CSR: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2261646d696e223a2274727565222c2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226f72646572696e672d6e6f6465732d61646d696e222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:39:05 [INFO] signed certificate with serial number 171994181696438381248762590376771442123877071242
2018/10/19 17:39:05 [DEBUG] DB: Insert Certificate
2018/10/19 17:39:05 [DEBUG] Saved serial number as hex 1e207c60656af89535f8ae447e585f7a6817398a
2018/10/19 17:39:05 [DEBUG] saved certificate with serial number 171994181696438381248762590376771442123877071242
2018/10/19 17:39:05 [DEBUG] Successfully incremented state for identity ordering-nodes-admin to 1
2018/10/19 17:39:05 [INFO] 127.0.0.1:45724 POST /enroll 201 0 "OK"
2018/10/19 17:39:05 [DEBUG] Received request for /register
2018/10/19 17:39:05 [DEBUG] Checking for revocation/expiration of certificate owned by 'rca-ordering-nodes-admin'
2018/10/19 17:39:05 [DEBUG] DB: Get certificate by serial (406bfda237c636752bf39f5d836bedfbc71bb756) and aki (a3a696bf5ab34514f572144670b887ef5766ee1e)
2018/10/19 17:39:05 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:39:05 [DEBUG] Successful token authentication of 'rca-ordering-nodes-admin'
2018/10/19 17:39:05 [DEBUG] Received registration request from rca-ordering-nodes-admin: { Name:node-0 Type:client Secret:**** MaxEnrollments:0 Affiliation:ordering-nodes Attributes:[] CAName:  }
2018/10/19 17:39:05 [DEBUG] canRegister - Check to see if user 'rca-ordering-nodes-admin' can register
2018/10/19 17:39:05 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' can act on type 'client'
2018/10/19 17:39:05 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' is a registrar
2018/10/19 17:39:05 [DEBUG] Validating affiliation: ordering-nodes
2018/10/19 17:39:05 [DEBUG] Checking to see if affiliation 'ordering-nodes' contains caller's affiliation ''
2018/10/19 17:39:05 [DEBUG] Caller has root affiliation
2018/10/19 17:39:05 [DEBUG] DB: Get affiliation ordering-nodes
2018/10/19 17:39:05 [DEBUG] Registering user id: node-0
2018/10/19 17:39:05 [DEBUG] Max enrollment value verification - User specified max enrollment: 0, CA max enrollment: -1
2018/10/19 17:39:05 [DEBUG] DB: Getting identity node-0
2018/10/19 17:39:05 [DEBUG] DB: Add identity node-0
2018/10/19 17:39:05 [DEBUG] Successfully added identity node-0 to the database
2018/10/19 17:39:05 [INFO] 127.0.0.1:45726 POST /register 201 0 "OK"
##### 2018-10-19 17:39:06 Enroll to get peer's TLS cert
2018/10/19 17:39:06 [DEBUG] Received request for /enroll
2018/10/19 17:39:06 [DEBUG] ca.Config: &{Version:1.2.0 Cfg:{Identities:{AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name:rca.ordering-nodes.deevo.io Keyfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.key Certfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem Chainfile:/home/datlv/fabric-ca/ca-chain.pem} Signing:0xc4204c8320 CSR:{CN:rca.ordering-nodes.deevo.io Names:[{C:US ST:California L: O: OU:COP SerialNumber:}] Hosts:[rca.ordering-nodes.deevo.io] KeyRequest:0xc4204d3400 CA:0xc4204b12c0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.GenCRL:1 hf.Registrar.Attributes:* hf.AffiliationMgr:1 hf.Registrar.Roles:* hf.Registrar.DelegateRoles:* hf.Revoker:1 hf.IntermediateCA:1]  }]} Affiliations:map[org5:[] org3:[] org2:[] org1:[] ordering-nodes:[] org0:[] org4:[]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:/home/datlv/fabric-ca/fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc4204d2ac0 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile:/home/datlv/fabric-ca/IssuerPublicKey IssuerSecretKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerSecretKey RevocationPublicKeyfile:/home/datlv/fabric-ca/IssuerRevocationPublicKey RevocationPrivateKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerRevocationPrivateKey RHPoolSize:1000 NonceExpiration:15s NonceSweepInterval:15m}}
2018/10/19 17:39:06 [DEBUG] DB: Getting identity node-0
2018/10/19 17:39:06 [DEBUG] DB: Login user node-0 with max enrollments of -1 and state of 0
2018/10/19 17:39:06 [DEBUG] DB: identity node-0 successfully logged in
2018/10/19 17:39:06 [DEBUG] DB: Getting identity node-0
2018/10/19 17:39:06 [DEBUG] Processing sign request: id=node-0, CommonName=node-0, Subject=<nil>
2018/10/19 17:39:06 [DEBUG] Request is not for a CA signing certificate
2018/10/19 17:39:06 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2018/10/19 17:39:06 [DEBUG] Finished processing sign request
2018/10/19 17:39:06 [DEBUG] DB: Getting identity node-0
2018/10/19 17:39:06 [DEBUG] Attribute extension being added to certificate is: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d30222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:39:06 [DEBUG] Adding attribute extension to CSR: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d30222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:39:06 [INFO] signed certificate with serial number 151467346591353592726133784866142125351986555715
2018/10/19 17:39:06 [DEBUG] DB: Insert Certificate
2018/10/19 17:39:06 [DEBUG] Saved serial number as hex 1a8807dda164c7c10638292cdcfa6d93ce046b43
2018/10/19 17:39:07 [DEBUG] saved certificate with serial number 151467346591353592726133784866142125351986555715
2018/10/19 17:39:07 [DEBUG] Successfully incremented state for identity node-0 to 1
2018/10/19 17:39:07 [INFO] 127.0.0.1:45728 POST /enroll 201 0 "OK"
2018/10/19 17:39:07 [DEBUG] Received request for /register
2018/10/19 17:39:07 [DEBUG] Checking for revocation/expiration of certificate owned by 'rca-ordering-nodes-admin'
2018/10/19 17:39:07 [DEBUG] DB: Get certificate by serial (406bfda237c636752bf39f5d836bedfbc71bb756) and aki (a3a696bf5ab34514f572144670b887ef5766ee1e)
2018/10/19 17:39:07 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:39:07 [DEBUG] Successful token authentication of 'rca-ordering-nodes-admin'
2018/10/19 17:39:07 [DEBUG] Received registration request from rca-ordering-nodes-admin: { Name:node-1 Type:client Secret:**** MaxEnrollments:0 Affiliation:ordering-nodes Attributes:[] CAName:  }
2018/10/19 17:39:07 [DEBUG] canRegister - Check to see if user 'rca-ordering-nodes-admin' can register
2018/10/19 17:39:07 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' can act on type 'client'
2018/10/19 17:39:07 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' is a registrar
2018/10/19 17:39:07 [DEBUG] Validating affiliation: ordering-nodes
2018/10/19 17:39:07 [DEBUG] Checking to see if affiliation 'ordering-nodes' contains caller's affiliation ''
2018/10/19 17:39:07 [DEBUG] Caller has root affiliation
2018/10/19 17:39:07 [DEBUG] DB: Get affiliation ordering-nodes
2018/10/19 17:39:07 [DEBUG] Registering user id: node-1
2018/10/19 17:39:07 [DEBUG] Max enrollment value verification - User specified max enrollment: 0, CA max enrollment: -1
2018/10/19 17:39:07 [DEBUG] DB: Getting identity node-1
2018/10/19 17:39:07 [DEBUG] DB: Add identity node-1
2018/10/19 17:39:07 [DEBUG] Successfully added identity node-1 to the database
2018/10/19 17:39:07 [INFO] 127.0.0.1:45730 POST /register 201 0 "OK"
##### 2018-10-19 17:39:08 Enroll to get peer's TLS cert
2018/10/19 17:39:08 [DEBUG] Received request for /enroll
2018/10/19 17:39:08 [DEBUG] ca.Config: &{Version:1.2.0 Cfg:{Identities:{AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name:rca.ordering-nodes.deevo.io Keyfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.key Certfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem Chainfile:/home/datlv/fabric-ca/ca-chain.pem} Signing:0xc4204c8320 CSR:{CN:rca.ordering-nodes.deevo.io Names:[{C:US ST:California L: O: OU:COP SerialNumber:}] Hosts:[rca.ordering-nodes.deevo.io] KeyRequest:0xc4204d3400 CA:0xc4204b12c0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.GenCRL:1 hf.Registrar.Attributes:* hf.AffiliationMgr:1 hf.Registrar.Roles:* hf.Registrar.DelegateRoles:* hf.Revoker:1 hf.IntermediateCA:1]  }]} Affiliations:map[org4:[] org5:[] org3:[] org2:[] org1:[] ordering-nodes:[] org0:[]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:/home/datlv/fabric-ca/fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc4204d2ac0 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile:/home/datlv/fabric-ca/IssuerPublicKey IssuerSecretKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerSecretKey RevocationPublicKeyfile:/home/datlv/fabric-ca/IssuerRevocationPublicKey RevocationPrivateKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerRevocationPrivateKey RHPoolSize:1000 NonceExpiration:15s NonceSweepInterval:15m}}
2018/10/19 17:39:08 [DEBUG] DB: Getting identity node-1
2018/10/19 17:39:08 [DEBUG] DB: Login user node-1 with max enrollments of -1 and state of 0
2018/10/19 17:39:08 [DEBUG] DB: identity node-1 successfully logged in
2018/10/19 17:39:08 [DEBUG] DB: Getting identity node-1
2018/10/19 17:39:08 [DEBUG] Processing sign request: id=node-1, CommonName=node-1, Subject=<nil>
2018/10/19 17:39:08 [DEBUG] Request is not for a CA signing certificate
2018/10/19 17:39:08 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2018/10/19 17:39:08 [DEBUG] Finished processing sign request
2018/10/19 17:39:08 [DEBUG] DB: Getting identity node-1
2018/10/19 17:39:08 [DEBUG] Attribute extension being added to certificate is: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d31222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:39:08 [DEBUG] Adding attribute extension to CSR: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d31222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:39:08 [INFO] signed certificate with serial number 614243133320001824393181603666524748508359901160
2018/10/19 17:39:08 [DEBUG] DB: Insert Certificate
2018/10/19 17:39:08 [DEBUG] Saved serial number as hex 6b979d5d1f6342da6365ccb1c066bf7ccf3d3fe8
2018/10/19 17:39:08 [DEBUG] saved certificate with serial number 614243133320001824393181603666524748508359901160
2018/10/19 17:39:09 [DEBUG] Successfully incremented state for identity node-1 to 1
2018/10/19 17:39:09 [INFO] 127.0.0.1:45732 POST /enroll 201 0 "OK"
2018/10/19 17:39:09 [DEBUG] Received request for /register
2018/10/19 17:39:09 [DEBUG] Checking for revocation/expiration of certificate owned by 'rca-ordering-nodes-admin'
2018/10/19 17:39:09 [DEBUG] DB: Get certificate by serial (406bfda237c636752bf39f5d836bedfbc71bb756) and aki (a3a696bf5ab34514f572144670b887ef5766ee1e)
2018/10/19 17:39:09 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:39:09 [DEBUG] Successful token authentication of 'rca-ordering-nodes-admin'
2018/10/19 17:39:09 [DEBUG] Received registration request from rca-ordering-nodes-admin: { Name:node-2 Type:client Secret:**** MaxEnrollments:0 Affiliation:ordering-nodes Attributes:[] CAName:  }
2018/10/19 17:39:09 [DEBUG] canRegister - Check to see if user 'rca-ordering-nodes-admin' can register
2018/10/19 17:39:09 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' can act on type 'client'
2018/10/19 17:39:09 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' is a registrar
2018/10/19 17:39:09 [DEBUG] Validating affiliation: ordering-nodes
2018/10/19 17:39:09 [DEBUG] Checking to see if affiliation 'ordering-nodes' contains caller's affiliation ''
2018/10/19 17:39:09 [DEBUG] Caller has root affiliation
2018/10/19 17:39:09 [DEBUG] DB: Get affiliation ordering-nodes
2018/10/19 17:39:09 [DEBUG] Registering user id: node-2
2018/10/19 17:39:09 [DEBUG] Max enrollment value verification - User specified max enrollment: 0, CA max enrollment: -1
2018/10/19 17:39:09 [DEBUG] DB: Getting identity node-2
2018/10/19 17:39:09 [DEBUG] DB: Add identity node-2
2018/10/19 17:39:09 [DEBUG] Successfully added identity node-2 to the database
2018/10/19 17:39:09 [INFO] 127.0.0.1:45734 POST /register 201 0 "OK"
##### 2018-10-19 17:39:10 Enroll to get peer's TLS cert
2018/10/19 17:39:10 [DEBUG] Received request for /enroll
2018/10/19 17:39:10 [DEBUG] ca.Config: &{Version:1.2.0 Cfg:{Identities:{AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name:rca.ordering-nodes.deevo.io Keyfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.key Certfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem Chainfile:/home/datlv/fabric-ca/ca-chain.pem} Signing:0xc4204c8320 CSR:{CN:rca.ordering-nodes.deevo.io Names:[{C:US ST:California L: O: OU:COP SerialNumber:}] Hosts:[rca.ordering-nodes.deevo.io] KeyRequest:0xc4204d3400 CA:0xc4204b12c0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.AffiliationMgr:1 hf.Registrar.Roles:* hf.Registrar.DelegateRoles:* hf.Revoker:1 hf.IntermediateCA:1 hf.GenCRL:1 hf.Registrar.Attributes:*]  }]} Affiliations:map[org2:[] org1:[] ordering-nodes:[] org0:[] org4:[] org5:[] org3:[]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:/home/datlv/fabric-ca/fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc4204d2ac0 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile:/home/datlv/fabric-ca/IssuerPublicKey IssuerSecretKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerSecretKey RevocationPublicKeyfile:/home/datlv/fabric-ca/IssuerRevocationPublicKey RevocationPrivateKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerRevocationPrivateKey RHPoolSize:1000 NonceExpiration:15s NonceSweepInterval:15m}}
2018/10/19 17:39:10 [DEBUG] DB: Getting identity node-2
2018/10/19 17:39:10 [DEBUG] DB: Login user node-2 with max enrollments of -1 and state of 0
2018/10/19 17:39:10 [DEBUG] DB: identity node-2 successfully logged in
2018/10/19 17:39:10 [DEBUG] DB: Getting identity node-2
2018/10/19 17:39:10 [DEBUG] Processing sign request: id=node-2, CommonName=node-2, Subject=<nil>
2018/10/19 17:39:10 [DEBUG] Request is not for a CA signing certificate
2018/10/19 17:39:10 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2018/10/19 17:39:10 [DEBUG] Finished processing sign request
2018/10/19 17:39:10 [DEBUG] DB: Getting identity node-2
2018/10/19 17:39:10 [DEBUG] Attribute extension being added to certificate is: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d32222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:39:10 [DEBUG] Adding attribute extension to CSR: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d32222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:39:10 [INFO] signed certificate with serial number 55631005207380500007330564561529663801000247874
2018/10/19 17:39:10 [DEBUG] DB: Insert Certificate
2018/10/19 17:39:10 [DEBUG] Saved serial number as hex 9be949ee12da2ad019691631d6a1cd4e1a4c242
2018/10/19 17:39:10 [DEBUG] saved certificate with serial number 55631005207380500007330564561529663801000247874
2018/10/19 17:39:10 [DEBUG] Successfully incremented state for identity node-2 to 1
2018/10/19 17:39:10 [INFO] 127.0.0.1:45736 POST /enroll 201 0 "OK"
2018/10/19 17:39:10 [DEBUG] Received request for /register
2018/10/19 17:39:10 [DEBUG] Checking for revocation/expiration of certificate owned by 'rca-ordering-nodes-admin'
2018/10/19 17:39:10 [DEBUG] DB: Get certificate by serial (406bfda237c636752bf39f5d836bedfbc71bb756) and aki (a3a696bf5ab34514f572144670b887ef5766ee1e)
2018/10/19 17:39:10 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:39:10 [DEBUG] Successful token authentication of 'rca-ordering-nodes-admin'
2018/10/19 17:39:10 [DEBUG] Received registration request from rca-ordering-nodes-admin: { Name:node-3 Type:client Secret:**** MaxEnrollments:0 Affiliation:ordering-nodes Attributes:[] CAName:  }
2018/10/19 17:39:10 [DEBUG] canRegister - Check to see if user 'rca-ordering-nodes-admin' can register
2018/10/19 17:39:10 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' can act on type 'client'
2018/10/19 17:39:10 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' is a registrar
2018/10/19 17:39:10 [DEBUG] Validating affiliation: ordering-nodes
2018/10/19 17:39:10 [DEBUG] Checking to see if affiliation 'ordering-nodes' contains caller's affiliation ''
2018/10/19 17:39:10 [DEBUG] Caller has root affiliation
2018/10/19 17:39:10 [DEBUG] DB: Get affiliation ordering-nodes
2018/10/19 17:39:10 [DEBUG] Registering user id: node-3
2018/10/19 17:39:10 [DEBUG] Max enrollment value verification - User specified max enrollment: 0, CA max enrollment: -1
2018/10/19 17:39:10 [DEBUG] DB: Getting identity node-3
2018/10/19 17:39:10 [DEBUG] DB: Add identity node-3
2018/10/19 17:39:11 [DEBUG] Successfully added identity node-3 to the database
2018/10/19 17:39:11 [INFO] 127.0.0.1:45738 POST /register 201 0 "OK"
##### 2018-10-19 17:39:12 Enroll to get peer's TLS cert
2018/10/19 17:39:12 [DEBUG] Received request for /enroll
2018/10/19 17:39:12 [DEBUG] ca.Config: &{Version:1.2.0 Cfg:{Identities:{AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name:rca.ordering-nodes.deevo.io Keyfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.key Certfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem Chainfile:/home/datlv/fabric-ca/ca-chain.pem} Signing:0xc4204c8320 CSR:{CN:rca.ordering-nodes.deevo.io Names:[{C:US ST:California L: O: OU:COP SerialNumber:}] Hosts:[rca.ordering-nodes.deevo.io] KeyRequest:0xc4204d3400 CA:0xc4204b12c0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.Registrar.Roles:* hf.Registrar.DelegateRoles:* hf.Revoker:1 hf.IntermediateCA:1 hf.GenCRL:1 hf.Registrar.Attributes:* hf.AffiliationMgr:1]  }]} Affiliations:map[org2:[] org1:[] ordering-nodes:[] org0:[] org4:[] org5:[] org3:[]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:/home/datlv/fabric-ca/fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc4204d2ac0 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile:/home/datlv/fabric-ca/IssuerPublicKey IssuerSecretKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerSecretKey RevocationPublicKeyfile:/home/datlv/fabric-ca/IssuerRevocationPublicKey RevocationPrivateKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerRevocationPrivateKey RHPoolSize:1000 NonceExpiration:15s NonceSweepInterval:15m}}
2018/10/19 17:39:12 [DEBUG] DB: Getting identity node-3
2018/10/19 17:39:12 [DEBUG] DB: Login user node-3 with max enrollments of -1 and state of 0
2018/10/19 17:39:12 [DEBUG] DB: identity node-3 successfully logged in
2018/10/19 17:39:12 [DEBUG] DB: Getting identity node-3
2018/10/19 17:39:12 [DEBUG] Processing sign request: id=node-3, CommonName=node-3, Subject=<nil>
2018/10/19 17:39:12 [DEBUG] Request is not for a CA signing certificate
2018/10/19 17:39:12 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2018/10/19 17:39:12 [DEBUG] Finished processing sign request
2018/10/19 17:39:12 [DEBUG] DB: Getting identity node-3
2018/10/19 17:39:12 [DEBUG] Attribute extension being added to certificate is: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d33222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:39:12 [DEBUG] Adding attribute extension to CSR: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d33222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:39:12 [INFO] signed certificate with serial number 61463884498205683611700688646210655087588256726
2018/10/19 17:39:12 [DEBUG] DB: Insert Certificate
2018/10/19 17:39:12 [DEBUG] Saved serial number as hex ac422ca84a146a87d7c74a0ac41200b0a2babd6
2018/10/19 17:39:12 [DEBUG] saved certificate with serial number 61463884498205683611700688646210655087588256726
2018/10/19 17:39:12 [DEBUG] Successfully incremented state for identity node-3 to 1
2018/10/19 17:39:12 [INFO] 127.0.0.1:45740 POST /enroll 201 0 "OK"
2018/10/19 17:40:32 [DEBUG] Received request for /cainfo
2018/10/19 17:40:32 [INFO] 127.0.0.1:45744 POST /cainfo 200 0 "OK"
2018/10/19 17:40:32 [DEBUG] Received request for /enroll
2018/10/19 17:40:32 [DEBUG] ca.Config: &{Version:1.2.0 Cfg:{Identities:{AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name:rca.ordering-nodes.deevo.io Keyfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.key Certfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem Chainfile:/home/datlv/fabric-ca/ca-chain.pem} Signing:0xc4204c8320 CSR:{CN:rca.ordering-nodes.deevo.io Names:[{C:US ST:California L: O: OU:COP SerialNumber:}] Hosts:[rca.ordering-nodes.deevo.io] KeyRequest:0xc4204d3400 CA:0xc4204b12c0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.AffiliationMgr:1 hf.Registrar.Roles:* hf.Registrar.DelegateRoles:* hf.Revoker:1 hf.IntermediateCA:1 hf.GenCRL:1 hf.Registrar.Attributes:*]  }]} Affiliations:map[org4:[] org5:[] org3:[] org2:[] org1:[] ordering-nodes:[] org0:[]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:/home/datlv/fabric-ca/fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc4204d2ac0 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile:/home/datlv/fabric-ca/IssuerPublicKey IssuerSecretKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerSecretKey RevocationPublicKeyfile:/home/datlv/fabric-ca/IssuerRevocationPublicKey RevocationPrivateKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerRevocationPrivateKey RHPoolSize:1000 NonceExpiration:15s NonceSweepInterval:15m}}
2018/10/19 17:40:32 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:40:32 [DEBUG] DB: Login user rca-ordering-nodes-admin with max enrollments of -1 and state of 1
2018/10/19 17:40:33 [DEBUG] DB: identity rca-ordering-nodes-admin successfully logged in
2018/10/19 17:40:33 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:40:33 [DEBUG] Processing sign request: id=rca-ordering-nodes-admin, CommonName=rca-ordering-nodes-admin, Subject=<nil>
2018/10/19 17:40:33 [DEBUG] Request is not for a CA signing certificate
2018/10/19 17:40:33 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2018/10/19 17:40:33 [DEBUG] Finished processing sign request
2018/10/19 17:40:33 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:40:33 [INFO] signed certificate with serial number 438984404739032925159360588904731294961036230715
2018/10/19 17:40:33 [DEBUG] DB: Insert Certificate
2018/10/19 17:40:33 [DEBUG] Saved serial number as hex 4ce4bdd3acaef3a01462defc9adc0b9eab39003b
2018/10/19 17:40:33 [DEBUG] saved certificate with serial number 438984404739032925159360588904731294961036230715
2018/10/19 17:40:33 [DEBUG] Successfully incremented state for identity rca-ordering-nodes-admin to 2
2018/10/19 17:40:33 [INFO] 127.0.0.1:45746 POST /enroll 201 0 "OK"
2018/10/19 17:40:33 [DEBUG] Received request for /cainfo
2018/10/19 17:40:33 [INFO] 127.0.0.1:45748 POST /cainfo 200 0 "OK"
##### 2018-10-19 17:40:33 Registering admin identity with ordering-nodes-admin:ordering-nodes-adminpw
2018/10/19 17:40:33 [DEBUG] Received request for /register
2018/10/19 17:40:33 [DEBUG] Checking for revocation/expiration of certificate owned by 'rca-ordering-nodes-admin'
2018/10/19 17:40:33 [DEBUG] DB: Get certificate by serial (4ce4bdd3acaef3a01462defc9adc0b9eab39003b) and aki (a3a696bf5ab34514f572144670b887ef5766ee1e)
2018/10/19 17:40:33 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:40:33 [DEBUG] Successful token authentication of 'rca-ordering-nodes-admin'
2018/10/19 17:40:33 [DEBUG] Received registration request from rca-ordering-nodes-admin: { Name:ordering-nodes-admin Type:client Secret:**** MaxEnrollments:0 Affiliation:ordering-nodes Attributes:[{admin true true}] CAName:  }
2018/10/19 17:40:33 [DEBUG] canRegister - Check to see if user 'rca-ordering-nodes-admin' can register
2018/10/19 17:40:33 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' can act on type 'client'
2018/10/19 17:40:33 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' is a registrar
2018/10/19 17:40:33 [DEBUG] Validating affiliation: ordering-nodes
2018/10/19 17:40:33 [DEBUG] Checking to see if affiliation 'ordering-nodes' contains caller's affiliation ''
2018/10/19 17:40:33 [DEBUG] Caller has root affiliation
2018/10/19 17:40:33 [DEBUG] DB: Get affiliation ordering-nodes
2018/10/19 17:40:33 [DEBUG] Checking to see if registrar can register the requested attributes: [{Name:admin Value:true ECert:true}]
2018/10/19 17:40:33 [DEBUG] Validating that registrar with the following values for hf.Registrar.Attributes '*' is authorized to register the requested attribute '&{Name:admin Value:true ECert:true}'
2018/10/19 17:40:33 [DEBUG] Checking if registrar can register attribute: admin
2018/10/19 17:40:33 [DEBUG] Performing authorization check...
2018/10/19 17:40:33 [DEBUG] Registering user id: ordering-nodes-admin
2018/10/19 17:40:33 [DEBUG] Max enrollment value verification - User specified max enrollment: 0, CA max enrollment: -1
2018/10/19 17:40:33 [DEBUG] DB: Getting identity ordering-nodes-admin
2018/10/19 17:40:33 [INFO] 127.0.0.1:45750 POST /register 500 0 "Registration of 'ordering-nodes-admin' failed: Identity 'ordering-nodes-admin' is already registered"
##### 2018-10-19 17:40:33 Enroll to get peer's TLS cert
2018/10/19 17:40:33 [DEBUG] Received request for /enroll
2018/10/19 17:40:33 [DEBUG] ca.Config: &{Version:1.2.0 Cfg:{Identities:{AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name:rca.ordering-nodes.deevo.io Keyfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.key Certfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem Chainfile:/home/datlv/fabric-ca/ca-chain.pem} Signing:0xc4204c8320 CSR:{CN:rca.ordering-nodes.deevo.io Names:[{C:US ST:California L: O: OU:COP SerialNumber:}] Hosts:[rca.ordering-nodes.deevo.io] KeyRequest:0xc4204d3400 CA:0xc4204b12c0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.Registrar.Attributes:* hf.AffiliationMgr:1 hf.Registrar.Roles:* hf.Registrar.DelegateRoles:* hf.Revoker:1 hf.IntermediateCA:1 hf.GenCRL:1]  }]} Affiliations:map[org0:[] org4:[] org5:[] org3:[] org2:[] org1:[] ordering-nodes:[]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:/home/datlv/fabric-ca/fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc4204d2ac0 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile:/home/datlv/fabric-ca/IssuerPublicKey IssuerSecretKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerSecretKey RevocationPublicKeyfile:/home/datlv/fabric-ca/IssuerRevocationPublicKey RevocationPrivateKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerRevocationPrivateKey RHPoolSize:1000 NonceExpiration:15s NonceSweepInterval:15m}}
2018/10/19 17:40:33 [DEBUG] DB: Getting identity ordering-nodes-admin
2018/10/19 17:40:33 [DEBUG] DB: Login user ordering-nodes-admin with max enrollments of -1 and state of 1
2018/10/19 17:40:33 [DEBUG] DB: identity ordering-nodes-admin successfully logged in
2018/10/19 17:40:33 [DEBUG] DB: Getting identity ordering-nodes-admin
2018/10/19 17:40:33 [DEBUG] Processing sign request: id=ordering-nodes-admin, CommonName=ordering-nodes-admin, Subject=<nil>
2018/10/19 17:40:33 [DEBUG] Request is not for a CA signing certificate
2018/10/19 17:40:33 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2018/10/19 17:40:33 [DEBUG] Finished processing sign request
2018/10/19 17:40:33 [DEBUG] DB: Getting identity ordering-nodes-admin
2018/10/19 17:40:33 [DEBUG] Attribute extension being added to certificate is: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2261646d696e223a2274727565222c2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226f72646572696e672d6e6f6465732d61646d696e222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:40:33 [DEBUG] Adding attribute extension to CSR: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2261646d696e223a2274727565222c2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226f72646572696e672d6e6f6465732d61646d696e222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:40:33 [INFO] signed certificate with serial number 651290632795150401833715895541685606610008798588
2018/10/19 17:40:33 [DEBUG] DB: Insert Certificate
2018/10/19 17:40:33 [DEBUG] Saved serial number as hex 7214e1ccfc452a8341618019f3ddb45c2feff57c
2018/10/19 17:40:33 [DEBUG] saved certificate with serial number 651290632795150401833715895541685606610008798588
2018/10/19 17:40:33 [DEBUG] Successfully incremented state for identity ordering-nodes-admin to 2
2018/10/19 17:40:33 [INFO] 127.0.0.1:45752 POST /enroll 201 0 "OK"
2018/10/19 17:40:34 [DEBUG] Received request for /register
2018/10/19 17:40:34 [DEBUG] Checking for revocation/expiration of certificate owned by 'rca-ordering-nodes-admin'
2018/10/19 17:40:34 [DEBUG] DB: Get certificate by serial (4ce4bdd3acaef3a01462defc9adc0b9eab39003b) and aki (a3a696bf5ab34514f572144670b887ef5766ee1e)
2018/10/19 17:40:34 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:40:34 [DEBUG] Successful token authentication of 'rca-ordering-nodes-admin'
2018/10/19 17:40:34 [DEBUG] Received registration request from rca-ordering-nodes-admin: { Name:node-0 Type:client Secret:**** MaxEnrollments:0 Affiliation:ordering-nodes Attributes:[] CAName:  }
2018/10/19 17:40:34 [DEBUG] canRegister - Check to see if user 'rca-ordering-nodes-admin' can register
2018/10/19 17:40:34 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' can act on type 'client'
2018/10/19 17:40:34 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' is a registrar
2018/10/19 17:40:34 [DEBUG] Validating affiliation: ordering-nodes
2018/10/19 17:40:34 [DEBUG] Checking to see if affiliation 'ordering-nodes' contains caller's affiliation ''
2018/10/19 17:40:34 [DEBUG] Caller has root affiliation
2018/10/19 17:40:34 [DEBUG] DB: Get affiliation ordering-nodes
2018/10/19 17:40:34 [DEBUG] Registering user id: node-0
2018/10/19 17:40:34 [DEBUG] Max enrollment value verification - User specified max enrollment: 0, CA max enrollment: -1
2018/10/19 17:40:34 [DEBUG] DB: Getting identity node-0
2018/10/19 17:40:34 [INFO] 127.0.0.1:45754 POST /register 500 0 "Registration of 'node-0' failed: Identity 'node-0' is already registered"
##### 2018-10-19 17:40:35 Enroll to get peer's TLS cert
2018/10/19 17:40:35 [DEBUG] Received request for /enroll
2018/10/19 17:40:35 [DEBUG] ca.Config: &{Version:1.2.0 Cfg:{Identities:{AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name:rca.ordering-nodes.deevo.io Keyfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.key Certfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem Chainfile:/home/datlv/fabric-ca/ca-chain.pem} Signing:0xc4204c8320 CSR:{CN:rca.ordering-nodes.deevo.io Names:[{C:US ST:California L: O: OU:COP SerialNumber:}] Hosts:[rca.ordering-nodes.deevo.io] KeyRequest:0xc4204d3400 CA:0xc4204b12c0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.AffiliationMgr:1 hf.Registrar.Roles:* hf.Registrar.DelegateRoles:* hf.Revoker:1 hf.IntermediateCA:1 hf.GenCRL:1 hf.Registrar.Attributes:*]  }]} Affiliations:map[org3:[] org2:[] org1:[] ordering-nodes:[] org0:[] org4:[] org5:[]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:/home/datlv/fabric-ca/fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc4204d2ac0 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile:/home/datlv/fabric-ca/IssuerPublicKey IssuerSecretKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerSecretKey RevocationPublicKeyfile:/home/datlv/fabric-ca/IssuerRevocationPublicKey RevocationPrivateKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerRevocationPrivateKey RHPoolSize:1000 NonceExpiration:15s NonceSweepInterval:15m}}
2018/10/19 17:40:35 [DEBUG] DB: Getting identity node-0
2018/10/19 17:40:35 [DEBUG] DB: Login user node-0 with max enrollments of -1 and state of 1
2018/10/19 17:40:35 [DEBUG] DB: identity node-0 successfully logged in
2018/10/19 17:40:35 [DEBUG] DB: Getting identity node-0
2018/10/19 17:40:35 [DEBUG] Processing sign request: id=node-0, CommonName=node-0, Subject=<nil>
2018/10/19 17:40:35 [DEBUG] Request is not for a CA signing certificate
2018/10/19 17:40:35 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2018/10/19 17:40:35 [DEBUG] Finished processing sign request
2018/10/19 17:40:35 [DEBUG] DB: Getting identity node-0
2018/10/19 17:40:35 [DEBUG] Attribute extension being added to certificate is: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d30222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:40:35 [DEBUG] Adding attribute extension to CSR: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d30222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:40:35 [INFO] signed certificate with serial number 614668819062785857541951549021742389663915032730
2018/10/19 17:40:35 [DEBUG] DB: Insert Certificate
2018/10/19 17:40:35 [DEBUG] Saved serial number as hex 6baab3ff1657e90d54675f57558ffd3c11e7c09a
2018/10/19 17:40:35 [DEBUG] saved certificate with serial number 614668819062785857541951549021742389663915032730
2018/10/19 17:40:35 [DEBUG] Successfully incremented state for identity node-0 to 2
2018/10/19 17:40:35 [INFO] 127.0.0.1:45756 POST /enroll 201 0 "OK"
2018/10/19 17:40:35 [DEBUG] Received request for /register
2018/10/19 17:40:35 [DEBUG] Checking for revocation/expiration of certificate owned by 'rca-ordering-nodes-admin'
2018/10/19 17:40:35 [DEBUG] DB: Get certificate by serial (4ce4bdd3acaef3a01462defc9adc0b9eab39003b) and aki (a3a696bf5ab34514f572144670b887ef5766ee1e)
2018/10/19 17:40:35 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:40:35 [DEBUG] Successful token authentication of 'rca-ordering-nodes-admin'
2018/10/19 17:40:35 [DEBUG] Received registration request from rca-ordering-nodes-admin: { Name:node-1 Type:client Secret:**** MaxEnrollments:0 Affiliation:ordering-nodes Attributes:[] CAName:  }
2018/10/19 17:40:35 [DEBUG] canRegister - Check to see if user 'rca-ordering-nodes-admin' can register
2018/10/19 17:40:35 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' can act on type 'client'
2018/10/19 17:40:35 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' is a registrar
2018/10/19 17:40:35 [DEBUG] Validating affiliation: ordering-nodes
2018/10/19 17:40:35 [DEBUG] Checking to see if affiliation 'ordering-nodes' contains caller's affiliation ''
2018/10/19 17:40:35 [DEBUG] Caller has root affiliation
2018/10/19 17:40:35 [DEBUG] DB: Get affiliation ordering-nodes
2018/10/19 17:40:35 [DEBUG] Registering user id: node-1
2018/10/19 17:40:35 [DEBUG] Max enrollment value verification - User specified max enrollment: 0, CA max enrollment: -1
2018/10/19 17:40:35 [DEBUG] DB: Getting identity node-1
2018/10/19 17:40:35 [INFO] 127.0.0.1:45758 POST /register 500 0 "Registration of 'node-1' failed: Identity 'node-1' is already registered"
##### 2018-10-19 17:40:36 Enroll to get peer's TLS cert
2018/10/19 17:40:36 [DEBUG] Received request for /enroll
2018/10/19 17:40:36 [DEBUG] ca.Config: &{Version:1.2.0 Cfg:{Identities:{AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name:rca.ordering-nodes.deevo.io Keyfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.key Certfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem Chainfile:/home/datlv/fabric-ca/ca-chain.pem} Signing:0xc4204c8320 CSR:{CN:rca.ordering-nodes.deevo.io Names:[{C:US ST:California L: O: OU:COP SerialNumber:}] Hosts:[rca.ordering-nodes.deevo.io] KeyRequest:0xc4204d3400 CA:0xc4204b12c0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.AffiliationMgr:1 hf.Registrar.Roles:* hf.Registrar.DelegateRoles:* hf.Revoker:1 hf.IntermediateCA:1 hf.GenCRL:1 hf.Registrar.Attributes:*]  }]} Affiliations:map[org1:[] ordering-nodes:[] org0:[] org4:[] org5:[] org3:[] org2:[]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:/home/datlv/fabric-ca/fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc4204d2ac0 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile:/home/datlv/fabric-ca/IssuerPublicKey IssuerSecretKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerSecretKey RevocationPublicKeyfile:/home/datlv/fabric-ca/IssuerRevocationPublicKey RevocationPrivateKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerRevocationPrivateKey RHPoolSize:1000 NonceExpiration:15s NonceSweepInterval:15m}}
2018/10/19 17:40:36 [DEBUG] DB: Getting identity node-1
2018/10/19 17:40:36 [DEBUG] DB: Login user node-1 with max enrollments of -1 and state of 1
2018/10/19 17:40:36 [DEBUG] DB: identity node-1 successfully logged in
2018/10/19 17:40:36 [DEBUG] DB: Getting identity node-1
2018/10/19 17:40:36 [DEBUG] Processing sign request: id=node-1, CommonName=node-1, Subject=<nil>
2018/10/19 17:40:36 [DEBUG] Request is not for a CA signing certificate
2018/10/19 17:40:36 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2018/10/19 17:40:36 [DEBUG] Finished processing sign request
2018/10/19 17:40:36 [DEBUG] DB: Getting identity node-1
2018/10/19 17:40:36 [DEBUG] Attribute extension being added to certificate is: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d31222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:40:36 [DEBUG] Adding attribute extension to CSR: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d31222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:40:36 [INFO] signed certificate with serial number 580953311098543574527064629607160178088109218913
2018/10/19 17:40:36 [DEBUG] DB: Insert Certificate
2018/10/19 17:40:36 [DEBUG] Saved serial number as hex 65c2d8f23837db087776a238186e402097c91c61
2018/10/19 17:40:36 [DEBUG] saved certificate with serial number 580953311098543574527064629607160178088109218913
2018/10/19 17:40:37 [DEBUG] Successfully incremented state for identity node-1 to 2
2018/10/19 17:40:37 [INFO] 127.0.0.1:45760 POST /enroll 201 0 "OK"
2018/10/19 17:40:37 [DEBUG] Received request for /register
2018/10/19 17:40:37 [DEBUG] Checking for revocation/expiration of certificate owned by 'rca-ordering-nodes-admin'
2018/10/19 17:40:37 [DEBUG] DB: Get certificate by serial (4ce4bdd3acaef3a01462defc9adc0b9eab39003b) and aki (a3a696bf5ab34514f572144670b887ef5766ee1e)
2018/10/19 17:40:37 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:40:37 [DEBUG] Successful token authentication of 'rca-ordering-nodes-admin'
2018/10/19 17:40:37 [DEBUG] Received registration request from rca-ordering-nodes-admin: { Name:node-2 Type:client Secret:**** MaxEnrollments:0 Affiliation:ordering-nodes Attributes:[] CAName:  }
2018/10/19 17:40:37 [DEBUG] canRegister - Check to see if user 'rca-ordering-nodes-admin' can register
2018/10/19 17:40:37 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' can act on type 'client'
2018/10/19 17:40:37 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' is a registrar
2018/10/19 17:40:37 [DEBUG] Validating affiliation: ordering-nodes
2018/10/19 17:40:37 [DEBUG] Checking to see if affiliation 'ordering-nodes' contains caller's affiliation ''
2018/10/19 17:40:37 [DEBUG] Caller has root affiliation
2018/10/19 17:40:37 [DEBUG] DB: Get affiliation ordering-nodes
2018/10/19 17:40:37 [DEBUG] Registering user id: node-2
2018/10/19 17:40:37 [DEBUG] Max enrollment value verification - User specified max enrollment: 0, CA max enrollment: -1
2018/10/19 17:40:37 [DEBUG] DB: Getting identity node-2
2018/10/19 17:40:37 [INFO] 127.0.0.1:45762 POST /register 500 0 "Registration of 'node-2' failed: Identity 'node-2' is already registered"
##### 2018-10-19 17:40:38 Enroll to get peer's TLS cert
2018/10/19 17:40:38 [DEBUG] Received request for /enroll
2018/10/19 17:40:38 [DEBUG] ca.Config: &{Version:1.2.0 Cfg:{Identities:{AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name:rca.ordering-nodes.deevo.io Keyfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.key Certfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem Chainfile:/home/datlv/fabric-ca/ca-chain.pem} Signing:0xc4204c8320 CSR:{CN:rca.ordering-nodes.deevo.io Names:[{C:US ST:California L: O: OU:COP SerialNumber:}] Hosts:[rca.ordering-nodes.deevo.io] KeyRequest:0xc4204d3400 CA:0xc4204b12c0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.AffiliationMgr:1 hf.Registrar.Roles:* hf.Registrar.DelegateRoles:* hf.Revoker:1 hf.IntermediateCA:1 hf.GenCRL:1 hf.Registrar.Attributes:*]  }]} Affiliations:map[ordering-nodes:[] org0:[] org4:[] org5:[] org3:[] org2:[] org1:[]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:/home/datlv/fabric-ca/fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc4204d2ac0 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile:/home/datlv/fabric-ca/IssuerPublicKey IssuerSecretKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerSecretKey RevocationPublicKeyfile:/home/datlv/fabric-ca/IssuerRevocationPublicKey RevocationPrivateKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerRevocationPrivateKey RHPoolSize:1000 NonceExpiration:15s NonceSweepInterval:15m}}
2018/10/19 17:40:38 [DEBUG] DB: Getting identity node-2
2018/10/19 17:40:38 [DEBUG] DB: Login user node-2 with max enrollments of -1 and state of 1
2018/10/19 17:40:38 [DEBUG] DB: identity node-2 successfully logged in
2018/10/19 17:40:38 [DEBUG] DB: Getting identity node-2
2018/10/19 17:40:38 [DEBUG] Processing sign request: id=node-2, CommonName=node-2, Subject=<nil>
2018/10/19 17:40:38 [DEBUG] Request is not for a CA signing certificate
2018/10/19 17:40:38 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2018/10/19 17:40:38 [DEBUG] Finished processing sign request
2018/10/19 17:40:38 [DEBUG] DB: Getting identity node-2
2018/10/19 17:40:38 [DEBUG] Attribute extension being added to certificate is: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d32222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:40:38 [DEBUG] Adding attribute extension to CSR: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d32222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:40:38 [INFO] signed certificate with serial number 24227385561608110522781870896609659447281887637
2018/10/19 17:40:38 [DEBUG] DB: Insert Certificate
2018/10/19 17:40:38 [DEBUG] Saved serial number as hex 43e64bf283b9a58bb439e8ce26fe962b3f2a995
2018/10/19 17:40:38 [DEBUG] saved certificate with serial number 24227385561608110522781870896609659447281887637
2018/10/19 17:40:38 [DEBUG] Successfully incremented state for identity node-2 to 2
2018/10/19 17:40:38 [INFO] 127.0.0.1:45764 POST /enroll 201 0 "OK"
2018/10/19 17:40:38 [DEBUG] Received request for /register
2018/10/19 17:40:38 [DEBUG] Checking for revocation/expiration of certificate owned by 'rca-ordering-nodes-admin'
2018/10/19 17:40:38 [DEBUG] DB: Get certificate by serial (4ce4bdd3acaef3a01462defc9adc0b9eab39003b) and aki (a3a696bf5ab34514f572144670b887ef5766ee1e)
2018/10/19 17:40:38 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:40:38 [DEBUG] Successful token authentication of 'rca-ordering-nodes-admin'
2018/10/19 17:40:38 [DEBUG] Received registration request from rca-ordering-nodes-admin: { Name:node-3 Type:client Secret:**** MaxEnrollments:0 Affiliation:ordering-nodes Attributes:[] CAName:  }
2018/10/19 17:40:38 [DEBUG] canRegister - Check to see if user 'rca-ordering-nodes-admin' can register
2018/10/19 17:40:38 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' can act on type 'client'
2018/10/19 17:40:38 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' is a registrar
2018/10/19 17:40:38 [DEBUG] Validating affiliation: ordering-nodes
2018/10/19 17:40:38 [DEBUG] Checking to see if affiliation 'ordering-nodes' contains caller's affiliation ''
2018/10/19 17:40:38 [DEBUG] Caller has root affiliation
2018/10/19 17:40:38 [DEBUG] DB: Get affiliation ordering-nodes
2018/10/19 17:40:38 [DEBUG] Registering user id: node-3
2018/10/19 17:40:38 [DEBUG] Max enrollment value verification - User specified max enrollment: 0, CA max enrollment: -1
2018/10/19 17:40:38 [DEBUG] DB: Getting identity node-3
2018/10/19 17:40:38 [INFO] 127.0.0.1:45766 POST /register 500 0 "Registration of 'node-3' failed: Identity 'node-3' is already registered"
##### 2018-10-19 17:40:39 Enroll to get peer's TLS cert
2018/10/19 17:40:39 [DEBUG] Received request for /enroll
2018/10/19 17:40:39 [DEBUG] ca.Config: &{Version:1.2.0 Cfg:{Identities:{AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name:rca.ordering-nodes.deevo.io Keyfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.key Certfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem Chainfile:/home/datlv/fabric-ca/ca-chain.pem} Signing:0xc4204c8320 CSR:{CN:rca.ordering-nodes.deevo.io Names:[{C:US ST:California L: O: OU:COP SerialNumber:}] Hosts:[rca.ordering-nodes.deevo.io] KeyRequest:0xc4204d3400 CA:0xc4204b12c0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.IntermediateCA:1 hf.GenCRL:1 hf.Registrar.Attributes:* hf.AffiliationMgr:1 hf.Registrar.Roles:* hf.Registrar.DelegateRoles:* hf.Revoker:1]  }]} Affiliations:map[org4:[] org5:[] org3:[] org2:[] org1:[] ordering-nodes:[] org0:[]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:/home/datlv/fabric-ca/fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc4204d2ac0 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile:/home/datlv/fabric-ca/IssuerPublicKey IssuerSecretKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerSecretKey RevocationPublicKeyfile:/home/datlv/fabric-ca/IssuerRevocationPublicKey RevocationPrivateKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerRevocationPrivateKey RHPoolSize:1000 NonceExpiration:15s NonceSweepInterval:15m}}
2018/10/19 17:40:39 [DEBUG] DB: Getting identity node-3
2018/10/19 17:40:39 [DEBUG] DB: Login user node-3 with max enrollments of -1 and state of 1
2018/10/19 17:40:39 [DEBUG] DB: identity node-3 successfully logged in
2018/10/19 17:40:39 [DEBUG] DB: Getting identity node-3
2018/10/19 17:40:39 [DEBUG] Processing sign request: id=node-3, CommonName=node-3, Subject=<nil>
2018/10/19 17:40:39 [DEBUG] Request is not for a CA signing certificate
2018/10/19 17:40:39 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2018/10/19 17:40:39 [DEBUG] Finished processing sign request
2018/10/19 17:40:39 [DEBUG] DB: Getting identity node-3
2018/10/19 17:40:39 [DEBUG] Attribute extension being added to certificate is: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d33222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:40:39 [DEBUG] Adding attribute extension to CSR: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d33222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:40:39 [INFO] signed certificate with serial number 267014682805023225341964031784044230247500395033
2018/10/19 17:40:39 [DEBUG] DB: Insert Certificate
2018/10/19 17:40:39 [DEBUG] Saved serial number as hex 2ec55a3c0f4d615351c06c24259e735f2236b219
2018/10/19 17:40:40 [DEBUG] saved certificate with serial number 267014682805023225341964031784044230247500395033
2018/10/19 17:40:40 [DEBUG] Successfully incremented state for identity node-3 to 2
2018/10/19 17:40:40 [INFO] 127.0.0.1:45768 POST /enroll 201 0 "OK"
2018/10/19 17:42:41 [DEBUG] Received request for /cainfo
2018/10/19 17:42:41 [INFO] 127.0.0.1:45774 POST /cainfo 200 0 "OK"
2018/10/19 17:42:41 [DEBUG] Received request for /enroll
2018/10/19 17:42:41 [DEBUG] ca.Config: &{Version:1.2.0 Cfg:{Identities:{AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name:rca.ordering-nodes.deevo.io Keyfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.key Certfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem Chainfile:/home/datlv/fabric-ca/ca-chain.pem} Signing:0xc4204c8320 CSR:{CN:rca.ordering-nodes.deevo.io Names:[{C:US ST:California L: O: OU:COP SerialNumber:}] Hosts:[rca.ordering-nodes.deevo.io] KeyRequest:0xc4204d3400 CA:0xc4204b12c0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.Registrar.DelegateRoles:* hf.Revoker:1 hf.IntermediateCA:1 hf.GenCRL:1 hf.Registrar.Attributes:* hf.AffiliationMgr:1 hf.Registrar.Roles:*]  }]} Affiliations:map[org4:[] org5:[] org3:[] org2:[] org1:[] ordering-nodes:[] org0:[]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:/home/datlv/fabric-ca/fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc4204d2ac0 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile:/home/datlv/fabric-ca/IssuerPublicKey IssuerSecretKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerSecretKey RevocationPublicKeyfile:/home/datlv/fabric-ca/IssuerRevocationPublicKey RevocationPrivateKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerRevocationPrivateKey RHPoolSize:1000 NonceExpiration:15s NonceSweepInterval:15m}}
2018/10/19 17:42:41 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:42:41 [DEBUG] DB: Login user rca-ordering-nodes-admin with max enrollments of -1 and state of 2
2018/10/19 17:42:41 [DEBUG] DB: identity rca-ordering-nodes-admin successfully logged in
2018/10/19 17:42:41 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:42:41 [DEBUG] Processing sign request: id=rca-ordering-nodes-admin, CommonName=rca-ordering-nodes-admin, Subject=<nil>
2018/10/19 17:42:41 [DEBUG] Request is not for a CA signing certificate
2018/10/19 17:42:41 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2018/10/19 17:42:41 [DEBUG] Finished processing sign request
2018/10/19 17:42:41 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:42:41 [INFO] signed certificate with serial number 668318278962824259366830024513566960927462273373
2018/10/19 17:42:41 [DEBUG] DB: Insert Certificate
2018/10/19 17:42:41 [DEBUG] Saved serial number as hex 75106d97ae2087c05f7561d56e8c8757674e315d
2018/10/19 17:42:41 [DEBUG] saved certificate with serial number 668318278962824259366830024513566960927462273373
2018/10/19 17:42:42 [DEBUG] Successfully incremented state for identity rca-ordering-nodes-admin to 3
2018/10/19 17:42:42 [INFO] 127.0.0.1:45776 POST /enroll 201 0 "OK"
2018/10/19 17:42:42 [DEBUG] Received request for /cainfo
2018/10/19 17:42:42 [INFO] 127.0.0.1:45778 POST /cainfo 200 0 "OK"
##### 2018-10-19 17:42:42 Registering admin identity with ordering-nodes-admin:ordering-nodes-adminpw
2018/10/19 17:42:42 [DEBUG] Received request for /register
2018/10/19 17:42:42 [DEBUG] Checking for revocation/expiration of certificate owned by 'rca-ordering-nodes-admin'
2018/10/19 17:42:42 [DEBUG] DB: Get certificate by serial (75106d97ae2087c05f7561d56e8c8757674e315d) and aki (a3a696bf5ab34514f572144670b887ef5766ee1e)
2018/10/19 17:42:42 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:42:42 [DEBUG] Successful token authentication of 'rca-ordering-nodes-admin'
2018/10/19 17:42:42 [DEBUG] Received registration request from rca-ordering-nodes-admin: { Name:ordering-nodes-admin Type:client Secret:**** MaxEnrollments:0 Affiliation:ordering-nodes Attributes:[{admin true true}] CAName:  }
2018/10/19 17:42:42 [DEBUG] canRegister - Check to see if user 'rca-ordering-nodes-admin' can register
2018/10/19 17:42:42 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' can act on type 'client'
2018/10/19 17:42:42 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' is a registrar
2018/10/19 17:42:42 [DEBUG] Validating affiliation: ordering-nodes
2018/10/19 17:42:42 [DEBUG] Checking to see if affiliation 'ordering-nodes' contains caller's affiliation ''
2018/10/19 17:42:42 [DEBUG] Caller has root affiliation
2018/10/19 17:42:42 [DEBUG] DB: Get affiliation ordering-nodes
2018/10/19 17:42:42 [DEBUG] Checking to see if registrar can register the requested attributes: [{Name:admin Value:true ECert:true}]
2018/10/19 17:42:42 [DEBUG] Validating that registrar with the following values for hf.Registrar.Attributes '*' is authorized to register the requested attribute '&{Name:admin Value:true ECert:true}'
2018/10/19 17:42:42 [DEBUG] Checking if registrar can register attribute: admin
2018/10/19 17:42:42 [DEBUG] Performing authorization check...
2018/10/19 17:42:42 [DEBUG] Registering user id: ordering-nodes-admin
2018/10/19 17:42:42 [DEBUG] Max enrollment value verification - User specified max enrollment: 0, CA max enrollment: -1
2018/10/19 17:42:42 [DEBUG] DB: Getting identity ordering-nodes-admin
2018/10/19 17:42:42 [INFO] 127.0.0.1:45780 POST /register 500 0 "Registration of 'ordering-nodes-admin' failed: Identity 'ordering-nodes-admin' is already registered"
##### 2018-10-19 17:42:42 Enroll to get peer's TLS cert
2018/10/19 17:42:42 [DEBUG] Received request for /enroll
2018/10/19 17:42:42 [DEBUG] ca.Config: &{Version:1.2.0 Cfg:{Identities:{AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name:rca.ordering-nodes.deevo.io Keyfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.key Certfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem Chainfile:/home/datlv/fabric-ca/ca-chain.pem} Signing:0xc4204c8320 CSR:{CN:rca.ordering-nodes.deevo.io Names:[{C:US ST:California L: O: OU:COP SerialNumber:}] Hosts:[rca.ordering-nodes.deevo.io] KeyRequest:0xc4204d3400 CA:0xc4204b12c0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.Registrar.Roles:* hf.Registrar.DelegateRoles:* hf.Revoker:1 hf.IntermediateCA:1 hf.GenCRL:1 hf.Registrar.Attributes:* hf.AffiliationMgr:1]  }]} Affiliations:map[org1:[] ordering-nodes:[] org0:[] org4:[] org5:[] org3:[] org2:[]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:/home/datlv/fabric-ca/fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc4204d2ac0 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile:/home/datlv/fabric-ca/IssuerPublicKey IssuerSecretKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerSecretKey RevocationPublicKeyfile:/home/datlv/fabric-ca/IssuerRevocationPublicKey RevocationPrivateKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerRevocationPrivateKey RHPoolSize:1000 NonceExpiration:15s NonceSweepInterval:15m}}
2018/10/19 17:42:42 [DEBUG] DB: Getting identity ordering-nodes-admin
2018/10/19 17:42:42 [DEBUG] DB: Login user ordering-nodes-admin with max enrollments of -1 and state of 2
2018/10/19 17:42:42 [DEBUG] DB: identity ordering-nodes-admin successfully logged in
2018/10/19 17:42:42 [DEBUG] DB: Getting identity ordering-nodes-admin
2018/10/19 17:42:42 [DEBUG] Processing sign request: id=ordering-nodes-admin, CommonName=ordering-nodes-admin, Subject=<nil>
2018/10/19 17:42:42 [DEBUG] Request is not for a CA signing certificate
2018/10/19 17:42:42 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2018/10/19 17:42:42 [DEBUG] Finished processing sign request
2018/10/19 17:42:42 [DEBUG] DB: Getting identity ordering-nodes-admin
2018/10/19 17:42:42 [DEBUG] Attribute extension being added to certificate is: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2261646d696e223a2274727565222c2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226f72646572696e672d6e6f6465732d61646d696e222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:42:42 [DEBUG] Adding attribute extension to CSR: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2261646d696e223a2274727565222c2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226f72646572696e672d6e6f6465732d61646d696e222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:42:42 [INFO] signed certificate with serial number 567145436037936217896035439622180985160135093352
2018/10/19 17:42:42 [DEBUG] DB: Insert Certificate
2018/10/19 17:42:42 [DEBUG] Saved serial number as hex 6357ae5064a1b67ee7770d63351118f60fd02c68
2018/10/19 17:42:42 [DEBUG] saved certificate with serial number 567145436037936217896035439622180985160135093352
2018/10/19 17:42:42 [DEBUG] Successfully incremented state for identity ordering-nodes-admin to 3
2018/10/19 17:42:42 [INFO] 127.0.0.1:45782 POST /enroll 201 0 "OK"
2018/10/19 17:42:42 [DEBUG] Received request for /register
2018/10/19 17:42:42 [DEBUG] Checking for revocation/expiration of certificate owned by 'rca-ordering-nodes-admin'
2018/10/19 17:42:42 [DEBUG] DB: Get certificate by serial (75106d97ae2087c05f7561d56e8c8757674e315d) and aki (a3a696bf5ab34514f572144670b887ef5766ee1e)
2018/10/19 17:42:42 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:42:42 [DEBUG] Successful token authentication of 'rca-ordering-nodes-admin'
2018/10/19 17:42:42 [DEBUG] Received registration request from rca-ordering-nodes-admin: { Name:node-0 Type:client Secret:**** MaxEnrollments:0 Affiliation:ordering-nodes Attributes:[] CAName:  }
2018/10/19 17:42:42 [DEBUG] canRegister - Check to see if user 'rca-ordering-nodes-admin' can register
2018/10/19 17:42:42 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' can act on type 'client'
2018/10/19 17:42:42 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' is a registrar
2018/10/19 17:42:42 [DEBUG] Validating affiliation: ordering-nodes
2018/10/19 17:42:42 [DEBUG] Checking to see if affiliation 'ordering-nodes' contains caller's affiliation ''
2018/10/19 17:42:42 [DEBUG] Caller has root affiliation
2018/10/19 17:42:42 [DEBUG] DB: Get affiliation ordering-nodes
2018/10/19 17:42:42 [DEBUG] Registering user id: node-0
2018/10/19 17:42:42 [DEBUG] Max enrollment value verification - User specified max enrollment: 0, CA max enrollment: -1
2018/10/19 17:42:42 [DEBUG] DB: Getting identity node-0
2018/10/19 17:42:42 [INFO] 127.0.0.1:45784 POST /register 500 0 "Registration of 'node-0' failed: Identity 'node-0' is already registered"
##### 2018-10-19 17:42:43 Enroll to get peer's TLS cert
2018/10/19 17:42:43 [DEBUG] Received request for /enroll
2018/10/19 17:42:43 [DEBUG] ca.Config: &{Version:1.2.0 Cfg:{Identities:{AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name:rca.ordering-nodes.deevo.io Keyfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.key Certfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem Chainfile:/home/datlv/fabric-ca/ca-chain.pem} Signing:0xc4204c8320 CSR:{CN:rca.ordering-nodes.deevo.io Names:[{C:US ST:California L: O: OU:COP SerialNumber:}] Hosts:[rca.ordering-nodes.deevo.io] KeyRequest:0xc4204d3400 CA:0xc4204b12c0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.GenCRL:1 hf.Registrar.Attributes:* hf.AffiliationMgr:1 hf.Registrar.Roles:* hf.Registrar.DelegateRoles:* hf.Revoker:1 hf.IntermediateCA:1]  }]} Affiliations:map[org3:[] org2:[] org1:[] ordering-nodes:[] org0:[] org4:[] org5:[]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:/home/datlv/fabric-ca/fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc4204d2ac0 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile:/home/datlv/fabric-ca/IssuerPublicKey IssuerSecretKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerSecretKey RevocationPublicKeyfile:/home/datlv/fabric-ca/IssuerRevocationPublicKey RevocationPrivateKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerRevocationPrivateKey RHPoolSize:1000 NonceExpiration:15s NonceSweepInterval:15m}}
2018/10/19 17:42:43 [DEBUG] DB: Getting identity node-0
2018/10/19 17:42:43 [DEBUG] DB: Login user node-0 with max enrollments of -1 and state of 2
2018/10/19 17:42:43 [DEBUG] DB: identity node-0 successfully logged in
2018/10/19 17:42:43 [DEBUG] DB: Getting identity node-0
2018/10/19 17:42:43 [DEBUG] Processing sign request: id=node-0, CommonName=node-0, Subject=<nil>
2018/10/19 17:42:43 [DEBUG] Request is not for a CA signing certificate
2018/10/19 17:42:43 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2018/10/19 17:42:43 [DEBUG] Finished processing sign request
2018/10/19 17:42:43 [DEBUG] DB: Getting identity node-0
2018/10/19 17:42:43 [DEBUG] Attribute extension being added to certificate is: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d30222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:42:43 [DEBUG] Adding attribute extension to CSR: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d30222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:42:43 [INFO] signed certificate with serial number 471679839375786633767277892674258920172689977887
2018/10/19 17:42:43 [DEBUG] DB: Insert Certificate
2018/10/19 17:42:43 [DEBUG] Saved serial number as hex 529edb02751ee8be097b9946b5b4bb6f6e26721f
2018/10/19 17:42:44 [DEBUG] saved certificate with serial number 471679839375786633767277892674258920172689977887
2018/10/19 17:42:44 [DEBUG] Successfully incremented state for identity node-0 to 3
2018/10/19 17:42:44 [INFO] 127.0.0.1:45788 POST /enroll 201 0 "OK"
2018/10/19 17:42:44 [DEBUG] Received request for /register
2018/10/19 17:42:44 [DEBUG] Checking for revocation/expiration of certificate owned by 'rca-ordering-nodes-admin'
2018/10/19 17:42:44 [DEBUG] DB: Get certificate by serial (75106d97ae2087c05f7561d56e8c8757674e315d) and aki (a3a696bf5ab34514f572144670b887ef5766ee1e)
2018/10/19 17:42:44 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:42:44 [DEBUG] Successful token authentication of 'rca-ordering-nodes-admin'
2018/10/19 17:42:44 [DEBUG] Received registration request from rca-ordering-nodes-admin: { Name:node-1 Type:client Secret:**** MaxEnrollments:0 Affiliation:ordering-nodes Attributes:[] CAName:  }
2018/10/19 17:42:44 [DEBUG] canRegister - Check to see if user 'rca-ordering-nodes-admin' can register
2018/10/19 17:42:44 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' can act on type 'client'
2018/10/19 17:42:44 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' is a registrar
2018/10/19 17:42:44 [DEBUG] Validating affiliation: ordering-nodes
2018/10/19 17:42:44 [DEBUG] Checking to see if affiliation 'ordering-nodes' contains caller's affiliation ''
2018/10/19 17:42:44 [DEBUG] Caller has root affiliation
2018/10/19 17:42:44 [DEBUG] DB: Get affiliation ordering-nodes
2018/10/19 17:42:44 [DEBUG] Registering user id: node-1
2018/10/19 17:42:44 [DEBUG] Max enrollment value verification - User specified max enrollment: 0, CA max enrollment: -1
2018/10/19 17:42:44 [DEBUG] DB: Getting identity node-1
2018/10/19 17:42:44 [INFO] 127.0.0.1:45790 POST /register 500 0 "Registration of 'node-1' failed: Identity 'node-1' is already registered"
##### 2018-10-19 17:42:45 Enroll to get peer's TLS cert
2018/10/19 17:42:45 [DEBUG] Received request for /enroll
2018/10/19 17:42:45 [DEBUG] ca.Config: &{Version:1.2.0 Cfg:{Identities:{AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name:rca.ordering-nodes.deevo.io Keyfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.key Certfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem Chainfile:/home/datlv/fabric-ca/ca-chain.pem} Signing:0xc4204c8320 CSR:{CN:rca.ordering-nodes.deevo.io Names:[{C:US ST:California L: O: OU:COP SerialNumber:}] Hosts:[rca.ordering-nodes.deevo.io] KeyRequest:0xc4204d3400 CA:0xc4204b12c0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.Registrar.Roles:* hf.Registrar.DelegateRoles:* hf.Revoker:1 hf.IntermediateCA:1 hf.GenCRL:1 hf.Registrar.Attributes:* hf.AffiliationMgr:1]  }]} Affiliations:map[org0:[] org4:[] org5:[] org3:[] org2:[] org1:[] ordering-nodes:[]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:/home/datlv/fabric-ca/fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc4204d2ac0 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile:/home/datlv/fabric-ca/IssuerPublicKey IssuerSecretKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerSecretKey RevocationPublicKeyfile:/home/datlv/fabric-ca/IssuerRevocationPublicKey RevocationPrivateKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerRevocationPrivateKey RHPoolSize:1000 NonceExpiration:15s NonceSweepInterval:15m}}
2018/10/19 17:42:45 [DEBUG] DB: Getting identity node-1
2018/10/19 17:42:45 [DEBUG] DB: Login user node-1 with max enrollments of -1 and state of 2
2018/10/19 17:42:45 [DEBUG] DB: identity node-1 successfully logged in
2018/10/19 17:42:45 [DEBUG] DB: Getting identity node-1
2018/10/19 17:42:45 [DEBUG] Processing sign request: id=node-1, CommonName=node-1, Subject=<nil>
2018/10/19 17:42:45 [DEBUG] Request is not for a CA signing certificate
2018/10/19 17:42:45 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2018/10/19 17:42:45 [DEBUG] Finished processing sign request
2018/10/19 17:42:45 [DEBUG] DB: Getting identity node-1
2018/10/19 17:42:45 [DEBUG] Attribute extension being added to certificate is: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d31222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:42:45 [DEBUG] Adding attribute extension to CSR: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d31222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:42:45 [INFO] signed certificate with serial number 296696115975456489345495693676742512829044622809
2018/10/19 17:42:45 [DEBUG] DB: Insert Certificate
2018/10/19 17:42:45 [DEBUG] Saved serial number as hex 33f8506099a3fac393d720062d3903c8ca9005d9
2018/10/19 17:42:45 [DEBUG] saved certificate with serial number 296696115975456489345495693676742512829044622809
2018/10/19 17:42:45 [DEBUG] Successfully incremented state for identity node-1 to 3
2018/10/19 17:42:45 [INFO] 127.0.0.1:45792 POST /enroll 201 0 "OK"
2018/10/19 17:42:45 [DEBUG] Received request for /register
2018/10/19 17:42:45 [DEBUG] Checking for revocation/expiration of certificate owned by 'rca-ordering-nodes-admin'
2018/10/19 17:42:45 [DEBUG] DB: Get certificate by serial (75106d97ae2087c05f7561d56e8c8757674e315d) and aki (a3a696bf5ab34514f572144670b887ef5766ee1e)
2018/10/19 17:42:45 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:42:45 [DEBUG] Successful token authentication of 'rca-ordering-nodes-admin'
2018/10/19 17:42:45 [DEBUG] Received registration request from rca-ordering-nodes-admin: { Name:node-2 Type:client Secret:**** MaxEnrollments:0 Affiliation:ordering-nodes Attributes:[] CAName:  }
2018/10/19 17:42:45 [DEBUG] canRegister - Check to see if user 'rca-ordering-nodes-admin' can register
2018/10/19 17:42:45 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' can act on type 'client'
2018/10/19 17:42:45 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' is a registrar
2018/10/19 17:42:45 [DEBUG] Validating affiliation: ordering-nodes
2018/10/19 17:42:45 [DEBUG] Checking to see if affiliation 'ordering-nodes' contains caller's affiliation ''
2018/10/19 17:42:45 [DEBUG] Caller has root affiliation
2018/10/19 17:42:45 [DEBUG] DB: Get affiliation ordering-nodes
2018/10/19 17:42:45 [DEBUG] Registering user id: node-2
2018/10/19 17:42:45 [DEBUG] Max enrollment value verification - User specified max enrollment: 0, CA max enrollment: -1
2018/10/19 17:42:45 [DEBUG] DB: Getting identity node-2
2018/10/19 17:42:45 [INFO] 127.0.0.1:45794 POST /register 500 0 "Registration of 'node-2' failed: Identity 'node-2' is already registered"
##### 2018-10-19 17:42:46 Enroll to get peer's TLS cert
2018/10/19 17:42:47 [DEBUG] Received request for /enroll
2018/10/19 17:42:47 [DEBUG] ca.Config: &{Version:1.2.0 Cfg:{Identities:{AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name:rca.ordering-nodes.deevo.io Keyfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.key Certfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem Chainfile:/home/datlv/fabric-ca/ca-chain.pem} Signing:0xc4204c8320 CSR:{CN:rca.ordering-nodes.deevo.io Names:[{C:US ST:California L: O: OU:COP SerialNumber:}] Hosts:[rca.ordering-nodes.deevo.io] KeyRequest:0xc4204d3400 CA:0xc4204b12c0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.AffiliationMgr:1 hf.Registrar.Roles:* hf.Registrar.DelegateRoles:* hf.Revoker:1 hf.IntermediateCA:1 hf.GenCRL:1 hf.Registrar.Attributes:*]  }]} Affiliations:map[org4:[] org5:[] org3:[] org2:[] org1:[] ordering-nodes:[] org0:[]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:/home/datlv/fabric-ca/fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc4204d2ac0 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile:/home/datlv/fabric-ca/IssuerPublicKey IssuerSecretKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerSecretKey RevocationPublicKeyfile:/home/datlv/fabric-ca/IssuerRevocationPublicKey RevocationPrivateKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerRevocationPrivateKey RHPoolSize:1000 NonceExpiration:15s NonceSweepInterval:15m}}
2018/10/19 17:42:47 [DEBUG] DB: Getting identity node-2
2018/10/19 17:42:47 [DEBUG] DB: Login user node-2 with max enrollments of -1 and state of 2
2018/10/19 17:42:47 [DEBUG] DB: identity node-2 successfully logged in
2018/10/19 17:42:47 [DEBUG] DB: Getting identity node-2
2018/10/19 17:42:47 [DEBUG] Processing sign request: id=node-2, CommonName=node-2, Subject=<nil>
2018/10/19 17:42:47 [DEBUG] Request is not for a CA signing certificate
2018/10/19 17:42:47 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2018/10/19 17:42:47 [DEBUG] Finished processing sign request
2018/10/19 17:42:47 [DEBUG] DB: Getting identity node-2
2018/10/19 17:42:47 [DEBUG] Attribute extension being added to certificate is: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d32222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:42:47 [DEBUG] Adding attribute extension to CSR: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d32222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:42:47 [INFO] signed certificate with serial number 146602975809930682776363576585176486596652537308
2018/10/19 17:42:47 [DEBUG] DB: Insert Certificate
2018/10/19 17:42:47 [DEBUG] Saved serial number as hex 19ade7a0b21e4eec3c459f1513fadc635b9b95dc
2018/10/19 17:42:47 [DEBUG] saved certificate with serial number 146602975809930682776363576585176486596652537308
2018/10/19 17:42:47 [DEBUG] Successfully incremented state for identity node-2 to 3
2018/10/19 17:42:47 [INFO] 127.0.0.1:45800 POST /enroll 201 0 "OK"
2018/10/19 17:42:47 [DEBUG] Received request for /register
2018/10/19 17:42:47 [DEBUG] Checking for revocation/expiration of certificate owned by 'rca-ordering-nodes-admin'
2018/10/19 17:42:47 [DEBUG] DB: Get certificate by serial (75106d97ae2087c05f7561d56e8c8757674e315d) and aki (a3a696bf5ab34514f572144670b887ef5766ee1e)
2018/10/19 17:42:47 [DEBUG] DB: Getting identity rca-ordering-nodes-admin
2018/10/19 17:42:47 [DEBUG] Successful token authentication of 'rca-ordering-nodes-admin'
2018/10/19 17:42:47 [DEBUG] Received registration request from rca-ordering-nodes-admin: { Name:node-3 Type:client Secret:**** MaxEnrollments:0 Affiliation:ordering-nodes Attributes:[] CAName:  }
2018/10/19 17:42:47 [DEBUG] canRegister - Check to see if user 'rca-ordering-nodes-admin' can register
2018/10/19 17:42:47 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' can act on type 'client'
2018/10/19 17:42:47 [DEBUG] Checking to see if caller 'rca-ordering-nodes-admin' is a registrar
2018/10/19 17:42:47 [DEBUG] Validating affiliation: ordering-nodes
2018/10/19 17:42:47 [DEBUG] Checking to see if affiliation 'ordering-nodes' contains caller's affiliation ''
2018/10/19 17:42:47 [DEBUG] Caller has root affiliation
2018/10/19 17:42:47 [DEBUG] DB: Get affiliation ordering-nodes
2018/10/19 17:42:47 [DEBUG] Registering user id: node-3
2018/10/19 17:42:47 [DEBUG] Max enrollment value verification - User specified max enrollment: 0, CA max enrollment: -1
2018/10/19 17:42:47 [DEBUG] DB: Getting identity node-3
2018/10/19 17:42:47 [INFO] 127.0.0.1:45802 POST /register 500 0 "Registration of 'node-3' failed: Identity 'node-3' is already registered"
##### 2018-10-19 17:42:48 Enroll to get peer's TLS cert
2018/10/19 17:42:48 [DEBUG] Received request for /enroll
2018/10/19 17:42:48 [DEBUG] ca.Config: &{Version:1.2.0 Cfg:{Identities:{AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name:rca.ordering-nodes.deevo.io Keyfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.key Certfile:/etc/hyperledger/fabric-ca-server-config/rca.ordering.bft-cert.pem Chainfile:/home/datlv/fabric-ca/ca-chain.pem} Signing:0xc4204c8320 CSR:{CN:rca.ordering-nodes.deevo.io Names:[{C:US ST:California L: O: OU:COP SerialNumber:}] Hosts:[rca.ordering-nodes.deevo.io] KeyRequest:0xc4204d3400 CA:0xc4204b12c0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.Registrar.Roles:* hf.Registrar.DelegateRoles:* hf.Revoker:1 hf.IntermediateCA:1 hf.GenCRL:1 hf.Registrar.Attributes:* hf.AffiliationMgr:1]  }]} Affiliations:map[org0:[] org4:[] org5:[] org3:[] org2:[] org1:[] ordering-nodes:[]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:/home/datlv/fabric-ca/fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc4204d2ac0 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile:/home/datlv/fabric-ca/IssuerPublicKey IssuerSecretKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerSecretKey RevocationPublicKeyfile:/home/datlv/fabric-ca/IssuerRevocationPublicKey RevocationPrivateKeyfile:/home/datlv/fabric-ca/msp/keystore/IssuerRevocationPrivateKey RHPoolSize:1000 NonceExpiration:15s NonceSweepInterval:15m}}
2018/10/19 17:42:48 [DEBUG] DB: Getting identity node-3
2018/10/19 17:42:48 [DEBUG] DB: Login user node-3 with max enrollments of -1 and state of 2
2018/10/19 17:42:48 [DEBUG] DB: identity node-3 successfully logged in
2018/10/19 17:42:48 [DEBUG] DB: Getting identity node-3
2018/10/19 17:42:48 [DEBUG] Processing sign request: id=node-3, CommonName=node-3, Subject=<nil>
2018/10/19 17:42:48 [DEBUG] Request is not for a CA signing certificate
2018/10/19 17:42:48 [DEBUG] Checking CSR fields to make sure that they do not exceed maximum character limits
2018/10/19 17:42:48 [DEBUG] Finished processing sign request
2018/10/19 17:42:48 [DEBUG] DB: Getting identity node-3
2018/10/19 17:42:48 [DEBUG] Attribute extension being added to certificate is: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d33222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:42:48 [DEBUG] Adding attribute extension to CSR: &{ID:[1 2 3 4 5 6 7 8 1] Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a226f72646572696e672d6e6f646573222c2268662e456e726f6c6c6d656e744944223a226e6f64652d33222c2268662e54797065223a22636c69656e74227d7d}
2018/10/19 17:42:48 [INFO] signed certificate with serial number 183823195467659878354975401905124682281276835461
2018/10/19 17:42:48 [DEBUG] DB: Insert Certificate
2018/10/19 17:42:48 [DEBUG] Saved serial number as hex 2032eacb8e4b6ae2d9ba85726c1f9902c56e8685
2018/10/19 17:42:48 [DEBUG] saved certificate with serial number 183823195467659878354975401905124682281276835461
2018/10/19 17:42:49 [DEBUG] Successfully incremented state for identity node-3 to 3
2018/10/19 17:42:49 [INFO] 127.0.0.1:45804 POST /enroll 201 0 "OK"
2018/10/19 17:53:38 [DEBUG] Cleaning up expired nonces for CA 'rca.ordering-nodes.deevo.io'
